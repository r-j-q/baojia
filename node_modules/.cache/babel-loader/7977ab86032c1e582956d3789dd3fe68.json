{"remainingRequest":"/Users/wangyanli/Documents/a/y/addVue/node_modules/babel-loader/lib/index.js!/Users/wangyanli/Documents/a/y/addVue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangyanli/Documents/a/y/addVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangyanli/Documents/a/y/addVue/src/pages/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangyanli/Documents/a/y/addVue/src/pages/login/login.vue","mtime":1684678542000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport _objectSpread from \"/Users/wangyanli/Documents/a/y/addVue/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/wangyanli/Documents/a/y/addVue/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { login as _login } from '@/api/permission';\nexport default {\n  data: function data() {\n    var validateUsername = function validateUsername(rule, value, callback) {\n      if (value.length < 5) {\n        callback(new Error('请输入正确的用户名'));\n      } else {\n        callback();\n      }\n    };\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value.length < 5) {\n        callback(new Error('密码不能小于5位'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      loginForm: {\n        phone: '19138984495',\n        pwd: '123456',\n        nickname: \"cc\"\n      },\n      //             var data = {\n      //     page: res,\n      //     limit: 10,\n      // }\n      loginRules: {\n        username: [{\n          required: true,\n          trigger: 'blur',\n          validator: validateUsername\n        }],\n        password: [{\n          required: true,\n          trigger: 'blur',\n          validator: validatePass\n        }]\n      },\n      loading: false,\n      pwdType: 'password'\n    };\n  },\n  methods: {\n    getActivityLsts: function getActivityLsts() {\n      getActivityLst; // this.$http()\n    },\n    showPwd: function showPwd() {\n      if (this.pwdType === 'password') {\n        this.pwdType = '';\n      } else {\n        this.pwdType = 'password';\n      }\n    },\n    login: function () {\n      var _login2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var data, token;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _login(_objectSpread({}, this.loginForm));\n\n              case 3:\n                data = _context.sent;\n                token = data.token;\n                this.$store.commit('LOGIN_IN', token);\n                this.$router.replace('/');\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      function login() {\n        return _login2.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,KAAA,IAAA,MAAA,QAAA,kBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,QAAA,gBAAA,GAAA,SAAA,gBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,WAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,UAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,aADA;AAEA,QAAA,GAAA,EAAA,QAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA;AACA;AACA;AACA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,MAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SADA,CADA;AAQA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SADA;AARA,OAVA;AAsBA,MAAA,OAAA,EAAA,KAtBA;AAuBA,MAAA,OAAA,EAAA;AAvBA,KAAA;AAyBA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,MAAA,cAAA,CADA,CAEA;AACA,KAJA;AAKA,IAAA,OALA,qBAKA;AACA,UAAA,KAAA,OAAA,KAAA,UAAA,EAAA;AACA,aAAA,OAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,GAAA,UAAA;AACA;AACA,KAXA;AAYA,IAAA,KAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAcA,MAAA,mBAAA,KAAA,SAAA,EAdA;;AAAA;AAcA,gBAAA,IAdA;AAeA,gBAAA,KAfA,GAeA,IAAA,CAAA,KAfA;AAgBA,qBAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA;AACA,qBAAA,OAAA,CAAA,OAAA,CAAA,GAAA;AAjBA;AAAA;;AAAA;AAAA;AAAA;AAmBA,gBAAA,OAAA,CAAA,GAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA1CA,CAAA","sourcesContent":["<template>\n    <div class=\"login-container\">\n        <el-form class=\"login-form\" autoComplete=\"on\" :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" label-position=\"left\">\n            <h3 class=\"title\">报价管理系统</h3>\n            <el-form-item prop=\"username\">\n                <span class=\"svg-container svg-container_login\">\n                    <svg-icon icon-class=\"user\" />\n                </span>\n                <el-input name=\"username\" type=\"text\" v-model=\"loginForm.username\" autoComplete=\"on\" placeholder=\"请输入手机号\" />\n            </el-form-item>\n            <el-form-item prop=\"password\">\n                <span class=\"svg-container\">\n                    <svg-icon icon-class=\"password\"></svg-icon>\n                </span>\n                <el-input name=\"password\" :type=\"pwdType\" @keyup.enter.native=\"login\" v-model=\"loginForm.password\" autoComplete=\"on\"\n                placeholder=\"请输入密码\"></el-input>\n                <span class=\"show-pwd\" @click=\"showPwd\"><svg-icon icon-class=\"eye\" /></span>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" style=\"width:100%;\" :loading=\"loading\" @click.native.prevent=\"login\">\n               登录\n                </el-button>\n            </el-form-item>\n            <!-- <div class=\"tips\">用户为admin的时候，能够看到所有的权限列表，其余账号只能看到部分</div> -->\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { login } from '@/api/permission'\nexport default {\n    data() {\n        const validateUsername = (rule, value, callback) => {\n            if (value.length < 5) {\n                callback(new Error('请输入正确的用户名'))\n            } else {\n                callback()\n            }\n        }\n        const validatePass = (rule, value, callback) => {\n            if (value.length < 5) {\n                callback(new Error('密码不能小于5位'))\n            } else {\n                callback()\n            }\n        }\n        return {\n            loginForm: {\n                phone: '19138984495',\n                pwd: '123456',\n                nickname:\"cc\"\n            },\n//             var data = {\n//     page: res,\n//     limit: 10,\n// }\n            loginRules: {\n                username: [\n                    {\n                        required: true,\n                        trigger: 'blur',\n                        validator: validateUsername\n                    }\n                ],\n                password: [\n                    { required: true, trigger: 'blur', validator: validatePass }\n                ]\n            },\n            loading: false,\n            pwdType: 'password'\n        }\n    },\n    methods: {\n        getActivityLsts(){\n            getActivityLst\n            // this.$http()\n        },\n        showPwd() {\n            if (this.pwdType === 'password') {\n                this.pwdType = ''\n            } else {\n                this.pwdType = 'password'\n            }\n        },\n        async login() {\n            try {\n                let data = await login({...this.loginForm})\n                let token = data.token\n                this.$store.commit('LOGIN_IN', token)\n                this.$router.replace('/')\n            } catch (e) {\n                console.log(e)\n            }\n        }\n    }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n$bg: #2d3a4b;\n$light_gray: #eee;\n\n/* reset element-ui css */\n.login-container {\n    .el-input {\n        display: inline-block;\n        height: 47px;\n        width: 90%;\n        input {\n            background: transparent;\n            border: 0px;\n            -webkit-appearance: none;\n            border-radius: 0px;\n            padding: 12px 5px 12px 15px;\n            color: $light_gray;\n            height: 47px;\n            &:-webkit-autofill {\n                -webkit-box-shadow: 0 0 0px 1000px $bg inset !important;\n                -webkit-text-fill-color: #fff !important;\n            }\n        }\n    }\n    .el-form-item {\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        background: rgba(0, 0, 0, 0.1);\n        border-radius: 5px;\n        color: #454545;\n    }\n}\n</style>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n$bg: #2d3a4b;\n$dark_gray: #889aa4;\n$light_gray: #eee;\n.login-container {\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: $bg;\n    .login-form {\n        position: absolute;\n        left: 0;\n        right: 0;\n        width: 520px;\n        padding: 35px 35px 15px 35px;\n        margin: 120px auto;\n    }\n    .tips {\n        font-size: 14px;\n        color: #fff;\n        margin-bottom: 10px;\n        span {\n            &:first-of-type {\n                margin-right: 16px;\n            }\n        }\n    }\n    .svg-container {\n        padding: 6px 5px 6px 15px;\n        color: $dark_gray;\n        vertical-align: middle;\n        width: 30px;\n        display: inline-block;\n        &_login {\n            font-size: 20px;\n        }\n    }\n    .title {\n        font-size: 26px;\n        font-weight: 400;\n        color: $light_gray;\n        margin: 0px auto 40px auto;\n        text-align: center;\n        font-weight: bold;\n    }\n    .show-pwd {\n        position: absolute;\n        right: 10px;\n        top: 7px;\n        font-size: 16px;\n        color: $dark_gray;\n        cursor: pointer;\n        user-select: none;\n    }\n    .fontcontainer{\n        color:#889aa4;\n        padding-left:10px;\n    }\n}\n</style>\n"],"sourceRoot":"src/pages/login"}]}