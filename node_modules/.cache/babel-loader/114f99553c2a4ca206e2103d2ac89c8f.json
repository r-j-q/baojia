{"remainingRequest":"/Users/wangyanli/Documents/a/y/addVue/node_modules/babel-loader/lib/index.js!/Users/wangyanli/Documents/a/y/addVue/src/utils/recursion-router.js","dependencies":[{"path":"/Users/wangyanli/Documents/a/y/addVue/src/utils/recursion-router.js","mtime":1684630200000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangyanli/Documents/a/y/addVue/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _objectSpread from \"/Users/wangyanli/Documents/a/y/addVue/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\n\n/**\n *\n * @param  {Array} userRouter 后台返回的用户权限json\n * @param  {Array} allRouter  前端配置好的所有动态路由的集合\n * @return {Array} realRoutes 过滤后的路由\n */\nexport function recursionRouter() {\n  var userRouter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var allRouter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var realRoutes = allRouter.filter(function (item) {\n    return userRouter.includes(item.name);\n  }).map(function (item) {\n    return _objectSpread({}, item, {\n      children: item.children ? recursionRouter(userRouter, item.children) : null\n    });\n  });\n  return realRoutes;\n}\n/**\n *\n * @param {Array} routes 用户过滤后的路由\n *\n * 递归为所有有子路由的路由设置第一个children.path为默认路由\n */\n\nexport function setDefaultRoute(routes) {\n  routes.forEach(function (v, i) {\n    if (v.children && v.children.length > 0) {\n      v.redirect = {\n        name: v.children[0].name\n      };\n      setDefaultRoute(v.children);\n    }\n  });\n}",{"version":3,"sources":["/Users/wangyanli/Documents/a/y/addVue/src/utils/recursion-router.js"],"names":["recursionRouter","userRouter","allRouter","realRoutes","filter","item","includes","name","map","children","setDefaultRoute","routes","forEach","v","i","length","redirect"],"mappings":";;;;;;;;;AAAA;;;;;;AAOA,OAAO,SAASA,eAAT,GAA0D;AAAA,MAAjCC,UAAiC,uEAApB,EAAoB;AAAA,MAAhBC,SAAgB,uEAAJ,EAAI;AAC7D,MAAIC,UAAU,GAAGD,SAAS,CACrBE,MADY,CACL,UAAAC,IAAI;AAAA,WAAIJ,UAAU,CAACK,QAAX,CAAoBD,IAAI,CAACE,IAAzB,CAAJ;AAAA,GADC,EAEZC,GAFY,CAER,UAAAH,IAAI;AAAA,6BACFA,IADE;AAELI,MAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAAL,GACJT,eAAe,CAACC,UAAD,EAAaI,IAAI,CAACI,QAAlB,CADX,GAEJ;AAJD;AAAA,GAFI,CAAjB;AAQA,SAAON,UAAP;AACH;AAED;;;;;;;AAMA,OAAO,SAASO,eAAT,CAAyBC,MAAzB,EAAiC;AACpCA,EAAAA,MAAM,CAACC,OAAP,CAAe,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACrB,QAAID,CAAC,CAACJ,QAAF,IAAcI,CAAC,CAACJ,QAAF,CAAWM,MAAX,GAAoB,CAAtC,EAAyC;AACrCF,MAAAA,CAAC,CAACG,QAAF,GAAa;AAAET,QAAAA,IAAI,EAAEM,CAAC,CAACJ,QAAF,CAAW,CAAX,EAAcF;AAAtB,OAAb;AACAG,MAAAA,eAAe,CAACG,CAAC,CAACJ,QAAH,CAAf;AACH;AACJ,GALD;AAMH","sourcesContent":["/**\n *\n * @param  {Array} userRouter 后台返回的用户权限json\n * @param  {Array} allRouter  前端配置好的所有动态路由的集合\n * @return {Array} realRoutes 过滤后的路由\n */\n\nexport function recursionRouter(userRouter = [], allRouter = []) {\n    var realRoutes = allRouter\n        .filter(item => userRouter.includes(item.name))\n        .map(item => ({\n            ...item,\n            children: item.children\n                ? recursionRouter(userRouter, item.children)\n                : null\n        }))\n    return realRoutes\n}\n\n/**\n *\n * @param {Array} routes 用户过滤后的路由\n *\n * 递归为所有有子路由的路由设置第一个children.path为默认路由\n */\nexport function setDefaultRoute(routes) {\n    routes.forEach((v, i) => {\n        if (v.children && v.children.length > 0) {\n            v.redirect = { name: v.children[0].name }\n            setDefaultRoute(v.children)\n        }\n    })\n}\n"]}]}